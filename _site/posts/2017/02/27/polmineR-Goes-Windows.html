<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Finally: polmineR available for Windows (32-bit R)</title>
  <meta name="description" content="I have been asked often (i.e. very often), whether the polmineR package can be used on Windows machines. For many years, my answer has been: I am very sorry,...">
  
  <meta name="author" content="Andreas Blaette">
  <meta name="copyright" content="&copy; Andreas Blaette 2018">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/monokai_sublime.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="I have been asked often (i.e. very often), whether the polmineR package can be used on Windows machines. For many years, my answer has been: I am very sorry,..." />
  <meta property="og:url" content="http://localhost:4000" />
  <meta property="og:site_name" content="PolMine Project" />
  <meta property="og:title" content="Finally: polmineR available for Windows (32-bit R)" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://localhost:4000/assets/logo.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Finally: polmineR available for Windows (32-bit R)">
  <meta name="twitter:description" content="I have been asked often (i.e. very often), whether the polmineR package can be used on Windows machines. For many years, my answer has been: I am very sorry,...">
  <meta name="twitter:image" content="http://localhost:4000/assets/logo.png">
  <meta name="twitter:url" content="http://localhost:4000">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/posts/2017/02/27/polmineR-Goes-Windows.html">
  <link rel="alternate" type="application/rss+xml" title="PolMine Project" href="http://localhost:4000/feed.xml" />
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/logo.png" alt="PolMine Project">
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
        <li class="nav-link"><a href="/">Home</a>
        
          
          <li class="nav-link"><a href="/about/">About</a>
          
        
          
          <li class="nav-link"><a href="/code/">Code</a>
          
        
          
          <li class="nav-link"><a href="/corpora/">Corpora</a>
          
        
          
        
          
        
          
          <li class="nav-link"><a href="/links/">Links</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="post">

<div class="post-header-container " >
  <div class="scrim ">
    <header class="post-header">
      <p class="info">by <strong>Andreas Blätte</strong></p>
    </header>
  </div>
</div>

<div class="wrapper">

 <span class="page-divider">
  <span class="one"></span>
  <span class="two"></span>
</span>
 

<section class="post-meta">
  <div class="post-date">February 27, 2017</div>
  <div class="post-categories">
  in 
    
    <a href="/category/Posts">Posts</a>
    
  
  </div>
</section>

<article class="post-content">
  <p>I have been asked often (i.e. very often), whether the polmineR package can be used on Windows machines. For many years, my answer has been: I am very sorry, but I do not yet know any way to make that work. It was a Unix only package. The polmineR-package relies on the <a href="https://cran.r-project.org/web/packages/rcqp/index.html">rcqp</a> package, and there is no way I would have known to get the rcqp package installed on Windows, due to two C libraries that would be lacking (<a href="http://pcre.org/">pcre</a> and <a href="https://developer.gnome.org/glib/stable/">glib</a>).</p>

<p>That restriction has tormented my mind for a long time. Today, I am very happy to announce: There is a simple way for non-technical Windows users. You can get the rcqp and the polmineR packages installed on Windows (for 32-bit R) in a feasible way.</p>

<p>All that it takes now is to use a slight modification of the *install.package-mechanism. So this is what needs to be done from the R shell:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">install.packages</span><span class="p">(</span><span class="s2">"rcqp"</span><span class="p">,</span><span class="w"> </span><span class="n">repo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://polmine.github.io/drat"</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"binary"</span><span class="p">)</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"polmineR"</span><span class="p">,</span><span class="w"> </span><span class="n">repo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://polmine.github.io/drat"</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"binary"</span><span class="p">)</span></code></pre></figure>

<p>Installing polmineR will require some dependencies that may not necessarily be present, taking up to a few minutes. Afterwards check whether the package can be loaded.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">polmineR</span><span class="p">)</span></code></pre></figure>

<p>Please note that rcqp/polmineR will look for the CORPUS_REGISTRY environment variable that indicates the directory of the CWB registry. Standardized text files in that directory describe the corpus. If that environment variable is not set, the quick remedy is to use the <em>Sys.setenv</em> command. Google will get you a bunch of tutorials how to set the environment variable persistently. When you have done that either way: Ready to go to work with the CWB corpora on your system!</p>

<h2 id="building-a-binary-package-does-the-trick">Building a binary package does the trick</h2>

<p>Admittedly, I could have come across the solution a good deal earlier. A well-established way to distribute R packages for Windows is to offer package binaries. This means that any code that needs to be compiled is already compiled. All kinds of utilities and tools that are not conventionally present on Windows machines are not required once you distribute packages as binaries.</p>

<p>If, as in our scenario, it is hard to compile a package on a Windows computer, the recommended way is to “cross compile” on a Unix machine. This is not the kind of business I am acquainted with. But I was extremely happy that Bernard Desgraupes and Sylvain Loiseau, the authors of the rcqp package, have done that already and offer the compiled C libraries for Windows (32 bit) their rcqp package needs (*.dll-files) at <a href="https://r-forge.r-project.org/scm/viewvc.php/libs/i386/?root=rcwb">R-Forge</a>.</p>

<p>Having the dlls at hand, I have modified the rcqp package slightly. The dll files are included into the package, and I changed the procedure when loading the package (file zzz.R). The binary is then generated from the command line as follows:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">R CMD build polmineR.rcqp <span class="nt">--no-build-vignettes</span> <span class="nt">--no-manual</span>
R CMD INSTALL <span class="nt">--build</span> rcqp_0.4.tar.gz</code></pre></figure>

<p>The resulting binary package is a zipped file (<em>rcqp_0.4.zip</em>). Using Dirk Eddelbuettel’s <a href="https://github.com/eddelbuettel/drat">drat</a> package, I insert that binary package into the drat archive I offer at the <a href="https://github.com/PolMine/polmineR">GitHub presence of the PolMine Project</a>. And that’s the place from where you can install the rcqp package using the command given in the intro.</p>

<p>As I realized the usefulness of binaries, that’s how I proceeded further. The polmineR package is not yet available as a Windows compatible package at CRAN. To exploit the ease of installing binary packages from a drat repository, I prepared the zipped binary version of polmineR, thus polmineR can be installed from the drat repository, too.</p>

<h2 id="binaries-are-available-for-macos-too">Binaries are available for MacOS, too</h2>

<p>It is fair to say that installing polmineR has neither been particularly easy for Mac users. Installation requires some command line usage. As I came to like binaries, I also prepared a package binary for the rcqp package for MacOS. So here is a new quick way to install things:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">install.packages</span><span class="p">(</span><span class="s2">"rcqp"</span><span class="p">,</span><span class="w"> </span><span class="n">repo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://polmine.github.io/drat"</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"binary"</span><span class="p">)</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"polmineR"</span><span class="p">)</span></code></pre></figure>

<h2 id="acknowledgements">Acknowledgements</h2>

<p>I did not manage to cross-compile rcqp myself. Bernard Desgraupes and Sylvain Loiseau explain the procedure in great detail. Once again I realize and acknowledge the care and mastery they have invested into the rcqp package. Their admirable work is gratefully acknowledged!</p>

</article>



<section class="tags">
  <strong>Tags:</strong> <a href="/tag/news">news</a>
</section>



<section class="rss">
  <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
</section>

<section class="share">
  <span>Share: </span>
  
    
    
      <a href="//twitter.com/share?text=Finally%3A+polmineR+available+for+Windows+%2832-bit+R%29&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F2017%2F02%2F27%2FpolmineR-Goes-Windows.html&via=ablaette"
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
        <i class="fa fa-twitter-square fa-lg"></i>
      </a>
    
    
    
    
    
    
  
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
  
</section>




</div>
</div>

    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">PolMine Project</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        
        
          <li class="nav-link"><a href="/about/">About</a>
        
        
        
          <li class="nav-link"><a href="/code/">Code</a>
        
        
        
          <li class="nav-link"><a href="/corpora/">Corpora</a>
        
        
        
        
        
        
        
          <li class="nav-link"><a href="/links/">Links</a>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:andreas.blaette@uni-due.de">
            <i class="fa fa-envelope-o"></i>
            <span class="username">andreas.blaette@uni-due.de</span>
          </a>
        </li>

        
          
          <li>
            <a href="https://twitter.com/ablaette" title="Follow me on Twitter">
              <i class="fa fa-twitter"></i>
              <span class="username">ablaette</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://github.com/PolMine" title="Fork me on GitHub">
              <i class="fa fa-github"></i>
              <span class="username">polmine</span>
            </a>
          </li>
          
        
          
        

      </ul>
    </div>

    <div class="site-contact">
      <p><strong>Affiliation</strong></p>
      <ul>
        <li><a href="http://www.nrwschool.de">NRW School of Governance</a></li>
        <li><a href="https://www.uni-due.de/politik">Institute of Political Science</a></li>
        <li><a href="https://www.uni-due.de/gesellschaftswissenschaften/">Department of the Social Sciences</a></li>
        <li><a href="http://www.uni-due.de">University of Duisburg-Essen</a></li>
      </ul>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
  // Default syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });
});

</script>






  </body>

</html>
